apiVersion: v1
kind: Pod
metadata:
  name: secretpod
spec:
  containers:
  - name: secretpod
    image: busybox
    args:
    - sleep
    - "1000000"
    volumeMounts:
    - name: kvdemo
      mountPath: /etc/mysql-password
  volumes:
  - name: kvdemo
    flexVolume:
      driver: "azure/kv"
      options:
        usevmmanagedidentity: "true"
        vmmanagedidentityclientid: "6307bf60-9201-438b-9e51-b6057c7cad5f"
        keyvaultname: "webinar-kv"
        keyvaultobjectnames: "secret-1"
        keyvaultobjecttypes: secret
        tenantid: "e4e34038-ea1f-4882-b6e8-ccd776459ca0"